(()=>{"use strict";const t=2,n=4,e=8,r=function(t){return-2/7500*Math.pow(t,.9)+1.5},i=1,o=3,u=.1;function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,n,e){return n&&c(t.prototype,n),e&&c(t,e),t}function h(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&f(t,n)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,n){return(f=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t,n,e){return(v=y()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&f(i,e.prototype),i}).apply(null,arguments)}function p(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function w(t){var n=y();return function(){var e,r=l(t);if(n){var i=l(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)}}function m(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}}(t,n)||d(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,n){if(t){if("string"==typeof t)return g(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?g(t,n):void 0}}function g(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function x(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function z(t,n){var e=n.x,r=n.y,i=n.z,o=t.x,u=t.y,s=t.z,c=t.w,a=c*e+u*i-s*r,h=c*r+s*e-o*i,l=c*i+o*r-u*e,f=-o*e-u*r-s*i,y=a*c+f*-o+h*-s-l*-u,v=h*c+f*-u+l*-o-a*-s,p=l*c+f*-s+a*-u-h*-o;return new n.constructor(y,v,p)}var S=Math.PI,b=2*Math.PI;function E(t){var n=t%b;return n<-S?n+=b:n>S&&(n-=b),n}function O(t){return"number"==typeof t||(null==t?void 0:t.constructor)===Number}var M,A,N=9999999999999,q=void 0,P=Symbol("vector length"),C=Symbol("get source"),J=Symbol("checked"),R=q,V=[0,1,2,6,24,120,720,5760,51840,518400,5702400,68428800,889574400,12454041600,186810624e3],j=[],I=-1,T=!1,_=[];function D(t,n,e){R=t,I=-1,A=1;var r=n(e);if(!O(r))throw new Error("\n      your assigned progress did not not return a primitive!\n      calc() does not support logical operators (|| && ==) directly\n\n      instead of calc(() => v1 || v2);\n      use        calc(() => +v1 || +v2);\n\n      instead of calc(() => v1);\n      use        calc(v1);\n      ");return r}function B(t){var n=t[C];return n?n(t).length:t[P]||3}function F(t,n,e){var r=t[C];r?r(t)[n]=e:0!==n?1!==n?(2===n&&(t.z=e),3===n&&(t.w=e)):t.y=e:t.x=e}function Q(t,n){if("function"!=typeof t)throw new Error("no function assigned");if(R!==q)throw new Error("something wrong, do you use calc() inside calc?");try{var e=void 0===n,r="function"==typeof n,i=r||e?void 0:n,o=D(0,t,i);if(e&&void 0===M)return o;var u=M?B(M):0;if(u===N){if(!t[J]){var s=D(N,t),c=V[A];if(Math.abs(s-c)>Number.EPSILON)throw new Error("\n            algebraic multiplication works only in calls with *\n\n            calc(() => v * m);\n            calc(() => m * v);\n            calc(() => m * m);\n            calc(() => m * m * v);\n\n            ");t[J]=!0}for(var a=j[0],h=1;h<A-1;h+=1){var l=j[h];if(!a.multiply)throw new Error("cannot find method multiply() on ".concat(a));a=a.multiply(l)}return a}var f=r?n.length:u;if(f||(f=u),f<u)throw new Error("Your assigned result Vector cant use higher space Operands than it has");var y=new Array(f);y[0]=o,i&&F(i,R,y[0]);for(var p=1;p<f;p+=1){var w=D(p,t,i);y[p]=w,i&&F(i,R,w)}return e?v(M.constructor,y):r?n.apply(void 0,y):i}finally{R=q,M=void 0}}function H(t,n){var e=t.prototype;e[C]=n;var r="valueOf",i=e[r];e[r]=function(){var t;return 0===R&&(M=M?(this,B(t=M)>B(this)?t:this):this,j[A-1]=this),R===q?i.call(this):function(t,n){if(A+=1,n===N)return A;if(n>=B(t))return 0;var e=t[C];return e?e(t)[n]:0===n?t.x:1===n?t.y:2===n?t.z:3===n?t.w:void 0}(this,R)}}function L(t){return function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===R){if(T)return t.apply(this,e);try{T=!0,I+=1;var i=t.apply(this,e);return _[I]=i,i}finally{T=!1}}return 1===R||2===R||3===R?_[I+=1]:t.apply(this,e)}}function Y(t,n){var e=t.prototype,r=e[n];e[n]=L(r)}function U(t,n){var e=t.prototype,r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(e,n,{get:L((function(){return r.get.call(this)}))})}function X(t,n){var e=t.prototype;Object.defineProperty(e,P,{value:n})}function $(t){X(t,N)}function G(t){return L(t)}function K(t){var n="";return t&&(n="".concat(t,"-")),n}function W(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=K(t);return Object.entries(n).forEach((function(t){var n=m(t,2),i=n[0],o=n[1];e["--".concat(r).concat(i)]=o})),e}var Z=Symbol("axes");function tt(t){return t*t}var nt=function(){function t(n,e){var r=this;s(this,t),"function"==typeof n?Q(n,(function(t,n){r[Z]=[t,n]})):x(n)?this[Z]=k(n):n&&O(n.x)?this[Z]=[n.x||0,n.y||0]:this[Z]=[n||0,e||0]}return a(t,[{key:"valueOf",value:function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")}},{key:"normalize",value:function(){var t=this.length;return new this.constructor(this.x/t,this.y/t)}},{key:"norm",value:function(){return this.normalize()}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"getRad",value:function(){return E(Math.atan2(this.y,this.x))}},{key:"angleTo",value:function(t){return n=this.y,e=this.x,r=t.y,i=t.x,E(Math.atan2(n,e)-Math.atan2(r,i));var n,e,r,i}},{key:"rotate",value:function(t){var n=Math.sin(t),e=Math.cos(t),r=this.x*e-this.y*n,i=this.x*n+this.y*e;return new this.constructor(r,i)}},{key:"distance",value:function(t){return Math.sqrt(tt(this.x-t.x)+tt(this.y-t.y))}},{key:"dist",value:function(t){return this.distance(t)}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"calc",value:function(t){throw new Error("calc() not implemented")}},{key:"clone",value:function(){throw new Error("clone() not implemented")}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"toJSON",value:function(){return{x:this.x,y:this.y}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"toCSSVars",value:function(t,n){return W(t,this.toJSON(),n)}},{key:Symbol.iterator,value:function(){return this[Z].values()}},{key:"lengthSq",get:function(){return this.dot(this)}},{key:"length",get:function(){return Math.sqrt(this.lengthSq)}},{key:"lensq",get:function(){return this.lengthSq}},{key:"len",get:function(){return this.length}},{key:"x",get:function(){return this[Z][0]},set:function(t){throw new Error("set x() not implemented")}},{key:"y",get:function(){return this[Z][1]},set:function(t){throw new Error("set y() not implemented")}},{key:"z",get:function(){throw new Error("get z() not implemented")},set:function(t){throw new Error("set z() not implemented")}}]),t}();H(nt),X(nt,2),Y(nt,"dot"),Y(nt,"angleTo"),Y(nt,"distance"),Y(nt,"toArray"),Y(nt,"getRad"),U(nt,"length"),U(nt,"lengthSq");var et=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"calc",value:function(t){return Q(t,this)}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"x",set:function(t){this[Z][0]=t},get:function(){return this[Z][0]}},{key:"y",set:function(t){this[Z][1]=t},get:function(){return this[Z][1]}}]),e}(nt),rt=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"toPoint",value:function(){return new et(this.x,this.y)}}]),e}(nt),it=(G((function(t,n){return new et(t,n)})),G((function(t,n){return new rt(t,n)}))),ot=function(t,n){return it(t,n)};ot(0,0),ot(0,-1),ot(-1,0);var ut=Symbol("axes");function st(t){return t*t}var ct=function(){function t(n,e,r){var i=this;s(this,t),"function"==typeof n?Q(n,(function(t,n,e){i[ut]=[t,n,e]})):x(n)?this[ut]=k(n):n&&O(n.x)?this[ut]=[n.x||0,n.y||0,n.z||0]:this[ut]=[n||0,e||0,r||0]}return a(t,[{key:"valueOf",value:function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")}},{key:"normalize",value:function(){var t=this.length;return new this.constructor(this.x/t,this.y/t,this.z/t)}},{key:"norm",value:function(){return this.normalize()}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"cross",value:function(t){return new this.constructor(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}},{key:"crossNormalize",value:function(t){var n=this.cross(t),e=n.length;return n[ut][0]/=e,n[ut][1]/=e,n[ut][2]/=e,n}},{key:"cn",value:function(t){return this.crossNormalize(t)}},{key:"toAngles",value:function(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length)}}},{key:"angleTo",value:function(t){return E((n=this.dot(t)/(this.length*t.length))>-1?n<1?Math.acos(n):0:S);var n}},{key:"multiply",value:function(t){return void 0===t.x?this.multiplyMat3(t):void 0===t.w?this.multiplyVec3(t):z(t,this)}},{key:"multiplyMat3",value:function(t){return n=this,r=(e=m(t,3))[0],i=e[1],o=e[2],new n.constructor(n.dot(r),n.dot(i),n.dot(o));var n,e,r,i,o}},{key:"multiplyVec3",value:function(t){var n=t.x,e=t.y,r=t.z;return new this.constructor(this.x*n,this.y*e,this.z*r)}},{key:"distance",value:function(t){return Math.sqrt(st(this.x-t.x)+st(this.y-t.y)+st(this.z-t.z))}},{key:"dist",value:function(t){return this.distance(t)}},{key:"toArray",value:function(){return[this.x,this.y,this.z]}},{key:"swizzle",value:function(t){var n=this,e=t.split("").map((function(t){return n[t]}));return 2===e.length?new rt(e[0],e[1]):new this.constructor(e[0],e[1],e[2])}},{key:"calc",value:function(t){throw new Error("calc() not implemented")}},{key:"clone",value:function(){throw new Error("clone() not implemented")}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,z:this.z}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"toCSSVars",value:function(t,n){return W(t,this.toJSON(),n)}},{key:Symbol.iterator,value:function(){return this[ut].values()}},{key:"lengthSq",get:function(){return this.dot(this)},set:function(t){throw new Error("set lengthSq() not implemented")}},{key:"length",get:function(){return Math.sqrt(this.lengthSq)},set:function(t){throw new Error("set length() not implemented")}},{key:"lensq",get:function(){return this.lengthSq},set:function(t){throw new Error("set lensq() not implemented")}},{key:"len",get:function(){return this.length},set:function(t){throw new Error("set len() not implemented")}},{key:"x",get:function(){return this[ut][0]},set:function(t){throw new Error("set x() not implemented")}},{key:"y",get:function(){return this[ut][1]},set:function(t){throw new Error("set y() not implemented")}},{key:"z",get:function(){return this[ut][2]},set:function(t){throw new Error("set z() not implemented")}},{key:"xy",get:function(){return new rt(this[ut][0],this[ut][1])},set:function(t){throw new Error("set xz() not implemented")}},{key:"xz",get:function(){return new rt(this[ut][0],this[ut][2])},set:function(t){throw new Error("set xz() not implemented")}},{key:"yz",get:function(){return new rt(this[ut][1],this[ut][2])},set:function(t){throw new Error("set yz() not implemented")}}]),t}();H(ct),X(ct,3),Y(ct,"dot"),Y(ct,"cross"),Y(ct,"crossNormalize"),Y(ct,"toAngles"),Y(ct,"angleTo"),Y(ct,"rotate"),Y(ct,"distance"),Y(ct,"toArray"),U(ct,"length"),U(ct,"lengthSq");var at=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"calc",value:function(t){return Q(t,this)}},{key:"clone",value:function(){return new e(this.x,this.y,this.z)}},{key:"x",set:function(t){this[ut][0]=t},get:function(){return this[ut][0]}},{key:"y",set:function(t){this[ut][1]=t},get:function(){return this[ut][1]}},{key:"z",set:function(t){this[ut][2]=t},get:function(){return this[ut][2]}}]),e}(ct),ht=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"toVector",value:function(){return new at(this.x,this.y,this.z)}},{key:"clone",value:function(){return this}}]),e}(ct),lt=G((function(t,n,e){return new at(t,n,e)})),ft=function(t,n,e){return lt(t,n,e)},yt=G((function(t,n,e){return new ht(t,n,e)})),vt=function(t,n,e){return yt(t,n,e)};vt(0,0,0);var pt=vt(0,0,-1);vt(0,0,1);var wt=vt(-1,0,0),mt=(vt(1,0,0),vt(0,1,0));vt(0,-1,0),vt(1,1,1);var kt=Symbol("angle rad"),dt=Math.PI/180,gt=function(){function t(n){s(this,t),this[kt]=n instanceof t?n[kt]:E(n*dt)}return a(t,[{key:"valueOf",value:function(){return this[kt]}},{key:"toJSON",value:function(){return{angle:this[kt]}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"toCSSVars",value:function(t,n){return W(t,this.toJSON(),n)}}]),t}(),xt=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"set",value:function(t){this[kt]=t instanceof gt?t[kt]:E((t||0)*dt)}}]),e}(gt);new(function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"toDegree",value:function(){return new xt(this[kt])}}]),e}(gt))(0);var zt=Symbol("axes"),St=Symbol("forward cache"),bt=Symbol("left cache"),Et=Symbol("up cache"),Ot=Symbol("inverse cache");function Mt(t){var n,e,r,i,o,u=(e=(n=m(t,4))[0],r=n[1],i=n[2],o=n[3],Math.sqrt(e*e+r*r+i*i+o*o));t[0]/=u,t[1]/=u,t[2]/=u,t[3]/=u}function At(t,n,e,r){return O(t)?[t,n,e,r]:x(t)?k(t):O(i=n)||i instanceof gt?function(t,n){var e=new Array(4),r=.5*n,i=Math.sin(r),o=Math.cos(r);return e[0]=i*t.x,e[1]=i*t.y,e[2]=i*t.z,e[3]=o,e}(t,n):t&&n?function(t,n){var e=t.normalize(),r=n.crossNormalize(e),i=e.crossNormalize(r),o=r.x,u=r.y,s=r.z,c=i.x,a=i.y,h=i.z,l=e.x,f=e.y,y=e.z,v=o+a+y,p=new Array(4);if(v>0){var w=Math.sqrt(v+1);return p[3]=.5*w,w=.5/w,p[0]=(h-f)*w,p[1]=(l-s)*w,p[2]=(u-c)*w,p}if(o>=a&&o>=y){var m=Math.sqrt(1+o-a-y),k=.5/m;return p[0]=.5*m,p[1]=(u+c)*k,p[2]=(s+l)*k,p[3]=(h-f)*k,p}if(a>y){var d=Math.sqrt(1+a-o-y),g=.5/d;return p[0]=(c+u)*g,p[1]=.5*d,p[2]=(f+h)*g,p[3]=(l-s)*g,p}var x=Math.sqrt(1+y-o-a),z=.5/x;return p[0]=(l+s)*z,p[1]=(f+h)*z,p[2]=.5*x,p[3]=(u-c)*z,p}(t,n):void 0;var i}function Nt(t,n,e,r){return t&&O(t.w)?At(t.x,t.y,t.z,t.w):At(t,n,e,r)||[0,0,0,1]}var qt=function(){function t(n,e,r,i){s(this,t),this[zt]=Nt(n,e,r,i),Mt(this[zt])}return a(t,[{key:"set",value:function(t,n,e,r){throw new Error("set x() not implemented")}},{key:"multiply",value:function(t,n,e,r){if(O(t.w))return this.multiplyQuaternion(t);var i=At(t,n,e,r);return i?this.multiplyQuaternion(new this.constructor(i)):this.multiplyVector(t)}},{key:"multiplyVector",value:function(t){return z(this,t)}},{key:"multiplyQuaternion",value:function(t){var n=this.x,e=this.y,r=this.z,i=this.w,o=t.x,u=t.y,s=t.z,c=t.w,a=i*o+n*c+e*s-r*u,h=i*u+e*c+r*o-n*s,l=i*s+r*c+n*u-e*o,f=i*c-n*o-e*u-r*s;return new this.constructor(a,h,l,f)}},{key:"mul",value:function(t,n,e,r){return this.multiply(t,n,e,r)}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}},{key:"toJSON",value:function(){var t=this.x,n=this.y,e=this.z,r=this.w;return{x:t,y:n,z:e,w:r,a1:1-n*n*2-e*e*2,a2:t*n*2-e*r*2,a3:t*e*2+n*r*2,b1:t*n*2+e*r*2,b2:1-t*t*2-e*e*2,b3:n*e*2-t*r*2,c1:t*e*2-n*r*2,c2:n*e*2+t*r*2,c3:1-t*t*2-n*n*2}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"toCSSVars",value:function(t,n){return W(t,this.toJSON(),n)}},{key:"inverse",get:function(){var t=this.x,n=this.y,e=this.z,r=this.w;return this.constructor(-1*t,-1*n,-1*e,r)}},{key:"inv",get:function(){return this.inverse}},{key:"left",get:function(){return this.multiplyVector(wt)}},{key:"dir",get:function(){return this.multiplyVector(pt)}},{key:"up",get:function(){return this.multiplyVector(mt)}},{key:0,get:function(){return this.left}},{key:1,get:function(){return this.dir}},{key:2,get:function(){return this.up}},{key:"x",get:function(){return this[zt][0]},set:function(t){throw new Error("set x() not implemented")}},{key:"y",get:function(){return this[zt][1]},set:function(t){throw new Error("set y() not implemented")}},{key:"z",get:function(){return this[zt][2]},set:function(t){throw new Error("set z() not implemented")}},{key:"w",get:function(){return this[zt][3]},set:function(t){throw new Error("set w() not implemented")}}]),t}();H(qt),$(qt);var Pt=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"set",value:function(t,n,e,r){t instanceof qt?this[zt]=k(t[zt]):(this[zt]=Nt(t,n,e,r),Mt(this[zt]))}},{key:"x",set:function(t){this[zt][0]=t},get:function(){return this[zt][0]}},{key:"y",set:function(t){this[zt][1]=t},get:function(){return this[zt][1]}},{key:"z",set:function(t){this[zt][2]=t},get:function(){return this[zt][2]}},{key:"w",set:function(t){this[zt][3]=t},get:function(){return this[zt][3]}}]),e}(qt);function Ct(t,n,e){var r=t[n];return r||(r=e(),t[n]=r),r}var Jt=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"left",get:function(){var t=this;return Ct(this,bt,(function(){return t.multiplyVector(wt)}))}},{key:"dir",get:function(){var t=this;return Ct(this,St,(function(){return t.multiplyVector(pt)}))}},{key:"up",get:function(){var t=this;return Ct(this,Et,(function(){return t.multiplyVector(mt)}))}},{key:"inverse",get:function(){var t=this;return Ct(this,Ot,(function(){var n=t.x,e=t.y,r=t.z,i=t.w;return t.constructor(-1*n,-1*e,-1*r,i)}))}}]),e}(qt);new Pt,G((function(t,n,e,r){return new Pt(t,n,e,r)}));var Rt=G((function(t,n,e,r){return new Jt(t,n,e,r)}));new Jt(wt,new xt(90)),Rt(0,0,0,1);var Vt=Symbol("data"),jt=function(){function t(){s(this,t);for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];this[Vt]=e}return a(t,[{key:"multiplyMat",value:function(t){return this,e=(n=m(t,3))[0],r=n[1],i=n[2],u=(o=m(this,3))[0],s=o[1],c=o[2],new this.constructor(new u.constructor(u.x*e.x+s.x*e.y+c.x*e.z,u.y*e.x+s.y*e.y+c.y*e.z,u.z*e.x+s.z*e.y+c.z*e.z),new u.constructor(u.x*r.x+s.x*r.y+c.x*r.z,u.y*r.x+s.y*r.y+c.y*r.z,u.z*r.x+s.z*r.y+c.z*r.z),new u.constructor(u.x*i.x+s.x*i.y+c.x*i.z,u.y*i.x+s.y*i.y+c.y*i.z,u.z*i.x+s.z*i.y+c.z*i.z));var n,e,r,i,o,u,s,c}},{key:"multiplyVec",value:function(t){return this,e=(n=t).x,r=n.y,i=n.z,u=(o=m(this,3))[0],s=o[1],c=o[2],new u.constructor(u.x*e+s.x*r+c.x*i,u.y*e+s.y*r+c.y*i,u.z*e+s.z*r+c.z*i);var n,e,r,i,o,u,s,c}},{key:"multiply",value:function(n){if(n instanceof t)return this.multiplyMat(n);var e=n.x,r=n.y,i=n.z;if(void 0===e||void 0===r||void 0===i)throw new Error("multiply only works with mat3 and vec3, not supported ".concat(n));return this.multiplyVec(n)}},{key:Symbol.iterator,value:function(){return this[Vt].values()}},{key:0,get:function(){return this[Vt][0]},set:function(t){throw new Error("set [0] not implemented")}},{key:1,get:function(){return this[Vt][1]},set:function(t){throw new Error("set [1] not implemented")}},{key:2,get:function(){return this[Vt][2]},set:function(t){throw new Error("set [2] not implemented")}}]),t}();H(jt),$(jt);var It=Symbol("axes"),Tt=function(){function t(n,e,r,i){var o=this;s(this,t),"function"==typeof n?Q(n,(function(t,n,e,r){o[It]=[t,n,e,r]})):x(n)?this[It]=k(n):n&&O(n.x)?this[It]=[n.x||0,n.y||0,n.z||0,n.w||0]:this[It]=[n||0,e||0,r||0,i||0]}return a(t,[{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"valueOf",value:function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")}},{key:"toArray",value:function(){return[this.x,this.y,this.z,this.w]}},{key:"calc",value:function(t){throw new Error("calc() not implemented")}},{key:"clone",value:function(){throw new Error("clone() not implemented")}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,z:this.z,w:this.w}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"toCSSVars",value:function(t,n){return W(t,this.toJSON(),n)}},{key:Symbol.iterator,value:function(){return this[It].values()}},{key:"x",get:function(){return this[It][0]},set:function(t){throw new Error("set x() not implemented")}},{key:"y",get:function(){return this[It][1]},set:function(t){throw new Error("set y() not implemented")}},{key:"z",get:function(){return this[It][2]},set:function(t){throw new Error("set z() not implemented")}},{key:"w",get:function(){return this[It][3]},set:function(t){throw new Error("set w() not implemented")}}]),t}();H(Tt),X(Tt,4),Y(Tt,"toArray");var _t=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"calc",value:function(t){return Q(t,this)}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"x",set:function(t){this[It][0]=t},get:function(){return this[It][0]}},{key:"y",set:function(t){this[It][1]=t},get:function(){return this[It][1]}},{key:"z",set:function(t){this[It][2]=t},get:function(){return this[It][2]}},{key:"w",set:function(t){this[It][3]=t},get:function(){return this[It][3]}}]),e}(Tt),Dt=function(t){h(e,t);var n=w(e);function e(){return s(this,e),n.apply(this,arguments)}return a(e,[{key:"toColor",value:function(){return new _t(this.x,this.y,this.z,this.w)}}]),e}(Tt);function Bt(t){return Q(t)}function Ft(t,i,o){var u=Bt((function(){return t*e*-1})),s=Bt((function(){return o*r(o.length)})),c=Bt((function(){return-1*i*n}));return Bt((function(){return s+u+c}))}G((function(t,n,e,r){return new _t(t,n,e,r)})),G((function(t,n,e,r){return new Dt(t,n,e,r)})),Math.PI,Math.PI;const Qt=function(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},o=ft(n.x,n.y,0),s=ft(e.x,e.y,0),c=ft(r.x-i.x-n.x,r.y-i.y-n.y,0),a=Ft(o,s,c),h=Bt((function(){return a/t})),l=Bt((function(){return h*u})),f=Bt((function(){return s+l})),y=Bt((function(){return o+f*u}));return{position:{x:y.x,y:y.y},velosity:{x:f.x,y:f.y}}};function Ht(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const Lt=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.radius=n.getBoundingClientRect().width/2,this.status="off",this.position={x:0,y:0},this.velosity={x:0,y:0}}var n,e;return n=t,(e=[{key:"getCenterCircle",value:function(){var t=this.element.parentElement.getBoundingClientRect();return{x:t.x+this.radius,y:t.y+this.radius}}},{key:"getMouseDistance",value:function(t){var n=this.getCenterCircle();return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}},{key:"getMouseDistanceRatio",value:function(t){return this.getMouseDistance(t)/this.radius}},{key:"makeActive",value:function(){this.status="holdMouse"}},{key:"makePassive",value:function(){this.status="returnToStart"}},{key:"makeOff",value:function(){this.status="off",this.position={x:0,y:0},this.velosity={x:0,y:0}}},{key:"doCalculation",value:function(t){this.checkStatus(t),"off"!=this.status&&this.updatePosition(t),this.updateRender()}},{key:"checkStatus",value:function(t){this.isMouseInRange(t,i)?this.makeActive():this.isStable()&&this.makeOff(),this.isMouseInRange(t,o)||this.makePassive()}},{key:"isStable",value:function(){var t=.1;return Math.pow(this.position.x,2)<t&&Math.pow(this.position.y,2)<t&&Math.pow(this.velosity.x,2)<t&&Math.pow(this.velosity.y,2)<t}},{key:"updatePosition",value:function(t){var n;n="holdMouse"==this.status?this.updatePositionHoldMouse(t):this.updatePositionReturnToStart(),this.setCondition(n)}},{key:"updatePositionHoldMouse",value:function(t){var n=this.getCenterCircle();return Qt(this.position,this.velosity,t,n)}},{key:"updatePositionReturnToStart",value:function(){return Qt(this.position,this.velosity)}},{key:"setCondition",value:function(t){this.position=t.position,this.velosity=t.velosity}},{key:"updateRender",value:function(){this.element.style.transform="translate(".concat(this.position.x,"px, ").concat(this.position.y,"px)")}},{key:"isMouseInRange",value:function(t,n){return this.getMouseDistanceRatio(t)<n}}])&&Ht(n.prototype,e),t}();var Yt,Ut={x:0,y:0},Xt=[];function $t(){Xt.forEach((function(t){t.doCalculation(Ut)})),requestAnimationFrame($t)}document.body.addEventListener("mousemove",(function(t){Ut.x=t.clientX,Ut.y=t.clientY})),Yt=Array.from(document.getElementsByClassName("mouse_circle")),Xt=Yt.map((function(t){return new Lt(t)})),requestAnimationFrame($t)})();
//# sourceMappingURL=main.js.map